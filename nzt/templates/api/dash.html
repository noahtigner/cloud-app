<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- jQuery from a content distribution network (CDN) -->
    <script 
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <title>IoT Dashboard</title>
</head>
<body>
    <!-- Rounded switch -->
    <h1>LED Status:</h1>
    <label class="switch">
        <input type="checkbox" id="check">
        <span class="slider round"></span>
    </label>
    <p><br/></p>
</body>

<script>
$(document).ready(function() {
    console.log("HERE");
    $('#check').change(function() {
        var url = "https://cors-anywhere.herokuapp.com/https://www.noahtigner.com/api/led_toggle?on=";
        console.log("CHANGED");
        if(this.checked) {
            url = url + "True";
        }
        else {
            url = url + "False";
        }

        $.post(url, function() {
            // alert( "success" );
        });
        // .done(function() {
        //     alert( "second success" );
        // })
        // .fail(function() {
        //     alert( "error" );
        // })
        // .always(function() {
        //     alert( "finished" );
        // });  
    });
});

</script>